{"ast":null,"code":"import BpmnTreeWalker from './BpmnTreeWalker';\n\n/**\n * The importBpmnDiagram result.\n *\n * @typedef {Object} ImportBPMNDiagramResult\n *\n * @property {Array<string>} warnings\n */\n\n/**\n* The importBpmnDiagram error.\n*\n* @typedef {Error} ImportBPMNDiagramError\n*\n* @property {Array<string>} warnings\n*/\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {djs.Diagram} diagram\n * @param  {ModdleElement<Definitions>} definitions\n * @param  {ModdleElement<BPMNDiagram>} [bpmnDiagram] the diagram to be rendered\n * (if not provided, the first one will be rendered)\n *\n * Returns {Promise<ImportBPMNDiagramResult, ImportBPMNDiagramError>}\n */\nexport function importBpmnDiagram(diagram, definitions, bpmnDiagram) {\n  var importer, eventBus, translate;\n  var error,\n    warnings = [];\n\n  /**\n   * Walk the diagram semantically, importing (=drawing)\n   * all elements you encounter.\n   *\n   * @param {ModdleElement<Definitions>} definitions\n   * @param {ModdleElement<BPMNDiagram>} bpmnDiagram\n   */\n  function render(definitions, bpmnDiagram) {\n    var visitor = {\n      root: function (element) {\n        return importer.add(element);\n      },\n      element: function (element, parentShape) {\n        return importer.add(element, parentShape);\n      },\n      error: function (message, context) {\n        warnings.push({\n          message: message,\n          context: context\n        });\n      }\n    };\n    var walker = new BpmnTreeWalker(visitor, translate);\n\n    // traverse BPMN 2.0 document model,\n    // starting at definitions\n    walker.handleDefinitions(definitions, bpmnDiagram);\n  }\n  return new Promise(function (resolve, reject) {\n    try {\n      importer = diagram.get('bpmnImporter');\n      eventBus = diagram.get('eventBus');\n      translate = diagram.get('translate');\n      eventBus.fire('import.render.start', {\n        definitions: definitions\n      });\n      render(definitions, bpmnDiagram);\n      eventBus.fire('import.render.complete', {\n        error: error,\n        warnings: warnings\n      });\n      return resolve({\n        warnings: warnings\n      });\n    } catch (e) {\n      e.warnings = warnings;\n      return reject(e);\n    }\n  });\n}","map":{"version":3,"names":["BpmnTreeWalker","importBpmnDiagram","diagram","definitions","bpmnDiagram","importer","eventBus","translate","error","warnings","render","visitor","root","element","add","parentShape","message","context","push","walker","handleDefinitions","Promise","resolve","reject","get","fire","e"],"sources":["C:/Users/KondalaRaoThota/camunda/camunda-7-code-examples/snippets/camunda-tasklist-examples/camunda-react-app/node_modules/bpmn-js/lib/import/Importer.js"],"sourcesContent":["import BpmnTreeWalker from './BpmnTreeWalker';\n\n\n/**\n * The importBpmnDiagram result.\n *\n * @typedef {Object} ImportBPMNDiagramResult\n *\n * @property {Array<string>} warnings\n */\n\n/**\n* The importBpmnDiagram error.\n*\n* @typedef {Error} ImportBPMNDiagramError\n*\n* @property {Array<string>} warnings\n*/\n\n/**\n * Import the definitions into a diagram.\n *\n * Errors and warnings are reported through the specified callback.\n *\n * @param  {djs.Diagram} diagram\n * @param  {ModdleElement<Definitions>} definitions\n * @param  {ModdleElement<BPMNDiagram>} [bpmnDiagram] the diagram to be rendered\n * (if not provided, the first one will be rendered)\n *\n * Returns {Promise<ImportBPMNDiagramResult, ImportBPMNDiagramError>}\n */\nexport function importBpmnDiagram(diagram, definitions, bpmnDiagram) {\n\n  var importer,\n      eventBus,\n      translate;\n\n  var error,\n      warnings = [];\n\n  /**\n   * Walk the diagram semantically, importing (=drawing)\n   * all elements you encounter.\n   *\n   * @param {ModdleElement<Definitions>} definitions\n   * @param {ModdleElement<BPMNDiagram>} bpmnDiagram\n   */\n  function render(definitions, bpmnDiagram) {\n\n    var visitor = {\n\n      root: function(element) {\n        return importer.add(element);\n      },\n\n      element: function(element, parentShape) {\n        return importer.add(element, parentShape);\n      },\n\n      error: function(message, context) {\n        warnings.push({ message: message, context: context });\n      }\n    };\n\n    var walker = new BpmnTreeWalker(visitor, translate);\n\n    // traverse BPMN 2.0 document model,\n    // starting at definitions\n    walker.handleDefinitions(definitions, bpmnDiagram);\n  }\n\n  return new Promise(function(resolve, reject) {\n    try {\n      importer = diagram.get('bpmnImporter');\n      eventBus = diagram.get('eventBus');\n      translate = diagram.get('translate');\n\n      eventBus.fire('import.render.start', { definitions: definitions });\n\n      render(definitions, bpmnDiagram);\n\n      eventBus.fire('import.render.complete', {\n        error: error,\n        warnings: warnings\n      });\n\n      return resolve({ warnings: warnings });\n    } catch (e) {\n\n      e.warnings = warnings;\n      return reject(e);\n    }\n  });\n}\n"],"mappings":"AAAA,OAAOA,cAAc,MAAM,kBAAkB;;AAG7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,iBAAiBA,CAACC,OAAO,EAAEC,WAAW,EAAEC,WAAW,EAAE;EAEnE,IAAIC,QAAQ,EACRC,QAAQ,EACRC,SAAS;EAEb,IAAIC,KAAK;IACLC,QAAQ,GAAG,EAAE;;EAEjB;AACF;AACA;AACA;AACA;AACA;AACA;EACE,SAASC,MAAMA,CAACP,WAAW,EAAEC,WAAW,EAAE;IAExC,IAAIO,OAAO,GAAG;MAEZC,IAAI,EAAE,SAAAA,CAASC,OAAO,EAAE;QACtB,OAAOR,QAAQ,CAACS,GAAG,CAACD,OAAO,CAAC;MAC9B,CAAC;MAEDA,OAAO,EAAE,SAAAA,CAASA,OAAO,EAAEE,WAAW,EAAE;QACtC,OAAOV,QAAQ,CAACS,GAAG,CAACD,OAAO,EAAEE,WAAW,CAAC;MAC3C,CAAC;MAEDP,KAAK,EAAE,SAAAA,CAASQ,OAAO,EAAEC,OAAO,EAAE;QAChCR,QAAQ,CAACS,IAAI,CAAC;UAAEF,OAAO,EAAEA,OAAO;UAAEC,OAAO,EAAEA;QAAQ,CAAC,CAAC;MACvD;IACF,CAAC;IAED,IAAIE,MAAM,GAAG,IAAInB,cAAc,CAACW,OAAO,EAAEJ,SAAS,CAAC;;IAEnD;IACA;IACAY,MAAM,CAACC,iBAAiB,CAACjB,WAAW,EAAEC,WAAW,CAAC;EACpD;EAEA,OAAO,IAAIiB,OAAO,CAAC,UAASC,OAAO,EAAEC,MAAM,EAAE;IAC3C,IAAI;MACFlB,QAAQ,GAAGH,OAAO,CAACsB,GAAG,CAAC,cAAc,CAAC;MACtClB,QAAQ,GAAGJ,OAAO,CAACsB,GAAG,CAAC,UAAU,CAAC;MAClCjB,SAAS,GAAGL,OAAO,CAACsB,GAAG,CAAC,WAAW,CAAC;MAEpClB,QAAQ,CAACmB,IAAI,CAAC,qBAAqB,EAAE;QAAEtB,WAAW,EAAEA;MAAY,CAAC,CAAC;MAElEO,MAAM,CAACP,WAAW,EAAEC,WAAW,CAAC;MAEhCE,QAAQ,CAACmB,IAAI,CAAC,wBAAwB,EAAE;QACtCjB,KAAK,EAAEA,KAAK;QACZC,QAAQ,EAAEA;MACZ,CAAC,CAAC;MAEF,OAAOa,OAAO,CAAC;QAAEb,QAAQ,EAAEA;MAAS,CAAC,CAAC;IACxC,CAAC,CAAC,OAAOiB,CAAC,EAAE;MAEVA,CAAC,CAACjB,QAAQ,GAAGA,QAAQ;MACrB,OAAOc,MAAM,CAACG,CAAC,CAAC;IAClB;EACF,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module"}