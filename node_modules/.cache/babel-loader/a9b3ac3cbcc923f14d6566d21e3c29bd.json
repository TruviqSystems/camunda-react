{"ast":null,"code":"import { isCmd, isKey, isCopy, isPaste, isUndo, isRedo } from './KeyboardUtil';\nvar LOW_PRIORITY = 500;\nexport var KEYCODE_C = 67;\nexport var KEYCODE_V = 86;\nexport var KEYCODE_Y = 89;\nexport var KEYCODE_Z = 90;\nexport var KEYS_COPY = ['c', 'C', KEYCODE_C];\nexport var KEYS_PASTE = ['v', 'V', KEYCODE_V];\nexport var KEYS_REDO = ['y', 'Y', KEYCODE_Y];\nexport var KEYS_UNDO = ['z', 'Z', KEYCODE_Z];\n\n/**\r\n * Adds default keyboard bindings.\r\n *\r\n * This does not pull in any features will bind only actions that\r\n * have previously been registered against the editorActions component.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Keyboard} keyboard\r\n */\nexport default function KeyboardBindings(eventBus, keyboard) {\n  var self = this;\n  eventBus.on('editorActions.init', LOW_PRIORITY, function (event) {\n    var editorActions = event.editorActions;\n    self.registerBindings(keyboard, editorActions);\n  });\n}\nKeyboardBindings.$inject = ['eventBus', 'keyboard'];\n\n/**\r\n * Register available keyboard bindings.\r\n *\r\n * @param {Keyboard} keyboard\r\n * @param {EditorActions} editorActions\r\n */\nKeyboardBindings.prototype.registerBindings = function (keyboard, editorActions) {\n  /**\r\n   * Add keyboard binding if respective editor action\r\n   * is registered.\r\n   *\r\n   * @param {string} action name\r\n   * @param {Function} fn that implements the key binding\r\n   */\n  function addListener(action, fn) {\n    if (editorActions.isRegistered(action)) {\n      keyboard.addListener(fn);\n    }\n  }\n\n  // undo\n  // (CTRL|CMD) + Z\n  addListener('undo', function (context) {\n    var event = context.keyEvent;\n    if (isUndo(event)) {\n      editorActions.trigger('undo');\n      return true;\n    }\n  });\n\n  // redo\n  // CTRL + Y\n  // CMD + SHIFT + Z\n  addListener('redo', function (context) {\n    var event = context.keyEvent;\n    if (isRedo(event)) {\n      editorActions.trigger('redo');\n      return true;\n    }\n  });\n\n  // copy\n  // CTRL/CMD + C\n  addListener('copy', function (context) {\n    var event = context.keyEvent;\n    if (isCopy(event)) {\n      editorActions.trigger('copy');\n      return true;\n    }\n  });\n\n  // paste\n  // CTRL/CMD + V\n  addListener('paste', function (context) {\n    var event = context.keyEvent;\n    if (isPaste(event)) {\n      editorActions.trigger('paste');\n      return true;\n    }\n  });\n\n  // zoom in one step\n  // CTRL/CMD + +\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\n    if (isKey(['+', 'Add', '='], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', {\n        value: 1\n      });\n      return true;\n    }\n  });\n\n  // zoom out one step\n  // CTRL + -\n  addListener('stepZoom', function (context) {\n    var event = context.keyEvent;\n    if (isKey(['-', 'Subtract'], event) && isCmd(event)) {\n      editorActions.trigger('stepZoom', {\n        value: -1\n      });\n      return true;\n    }\n  });\n\n  // zoom to the default level\n  // CTRL + 0\n  addListener('zoom', function (context) {\n    var event = context.keyEvent;\n    if (isKey('0', event) && isCmd(event)) {\n      editorActions.trigger('zoom', {\n        value: 1\n      });\n      return true;\n    }\n  });\n\n  // delete selected element\n  // DEL\n  addListener('removeSelection', function (context) {\n    var event = context.keyEvent;\n    if (isKey(['Backspace', 'Delete', 'Del'], event)) {\n      editorActions.trigger('removeSelection');\n      return true;\n    }\n  });\n};","map":{"version":3,"names":["isCmd","isKey","isCopy","isPaste","isUndo","isRedo","LOW_PRIORITY","KEYCODE_C","KEYCODE_V","KEYCODE_Y","KEYCODE_Z","KEYS_COPY","KEYS_PASTE","KEYS_REDO","KEYS_UNDO","KeyboardBindings","eventBus","keyboard","self","on","event","editorActions","registerBindings","$inject","prototype","addListener","action","fn","isRegistered","context","keyEvent","trigger","value"],"sources":["C:/Users/sam/final/camunda-react/node_modules/diagram-js/lib/features/keyboard/KeyboardBindings.js"],"sourcesContent":["import {\r\n  isCmd,\r\n  isKey,\r\n  isCopy,\r\n  isPaste,\r\n  isUndo,\r\n  isRedo\r\n} from './KeyboardUtil';\r\n\r\nvar LOW_PRIORITY = 500;\r\n\r\nexport var KEYCODE_C = 67;\r\nexport var KEYCODE_V = 86;\r\nexport var KEYCODE_Y = 89;\r\nexport var KEYCODE_Z = 90;\r\n\r\nexport var KEYS_COPY = ['c', 'C', KEYCODE_C ];\r\nexport var KEYS_PASTE = [ 'v', 'V', KEYCODE_V ];\r\nexport var KEYS_REDO = [ 'y', 'Y', KEYCODE_Y ];\r\nexport var KEYS_UNDO = [ 'z', 'Z', KEYCODE_Z ];\r\n\r\n\r\n/**\r\n * Adds default keyboard bindings.\r\n *\r\n * This does not pull in any features will bind only actions that\r\n * have previously been registered against the editorActions component.\r\n *\r\n * @param {EventBus} eventBus\r\n * @param {Keyboard} keyboard\r\n */\r\nexport default function KeyboardBindings(eventBus, keyboard) {\r\n\r\n  var self = this;\r\n\r\n  eventBus.on('editorActions.init', LOW_PRIORITY, function(event) {\r\n\r\n    var editorActions = event.editorActions;\r\n\r\n    self.registerBindings(keyboard, editorActions);\r\n  });\r\n}\r\n\r\nKeyboardBindings.$inject = [\r\n  'eventBus',\r\n  'keyboard'\r\n];\r\n\r\n\r\n/**\r\n * Register available keyboard bindings.\r\n *\r\n * @param {Keyboard} keyboard\r\n * @param {EditorActions} editorActions\r\n */\r\nKeyboardBindings.prototype.registerBindings = function(keyboard, editorActions) {\r\n\r\n  /**\r\n   * Add keyboard binding if respective editor action\r\n   * is registered.\r\n   *\r\n   * @param {string} action name\r\n   * @param {Function} fn that implements the key binding\r\n   */\r\n  function addListener(action, fn) {\r\n\r\n    if (editorActions.isRegistered(action)) {\r\n      keyboard.addListener(fn);\r\n    }\r\n  }\r\n\r\n\r\n  // undo\r\n  // (CTRL|CMD) + Z\r\n  addListener('undo', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isUndo(event)) {\r\n      editorActions.trigger('undo');\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // redo\r\n  // CTRL + Y\r\n  // CMD + SHIFT + Z\r\n  addListener('redo', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isRedo(event)) {\r\n      editorActions.trigger('redo');\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // copy\r\n  // CTRL/CMD + C\r\n  addListener('copy', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isCopy(event)) {\r\n      editorActions.trigger('copy');\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // paste\r\n  // CTRL/CMD + V\r\n  addListener('paste', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isPaste(event)) {\r\n      editorActions.trigger('paste');\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // zoom in one step\r\n  // CTRL/CMD + +\r\n  addListener('stepZoom', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    // quirk: it has to be triggered by `=` as well to work on international keyboard layout\r\n    // cf: https://github.com/bpmn-io/bpmn-js/issues/1362#issuecomment-722989754\r\n    if (isKey([ '+', 'Add', '=' ], event) && isCmd(event)) {\r\n      editorActions.trigger('stepZoom', { value: 1 });\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // zoom out one step\r\n  // CTRL + -\r\n  addListener('stepZoom', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isKey([ '-', 'Subtract' ], event) && isCmd(event)) {\r\n      editorActions.trigger('stepZoom', { value: -1 });\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // zoom to the default level\r\n  // CTRL + 0\r\n  addListener('zoom', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isKey('0', event) && isCmd(event)) {\r\n      editorActions.trigger('zoom', { value: 1 });\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  // delete selected element\r\n  // DEL\r\n  addListener('removeSelection', function(context) {\r\n\r\n    var event = context.keyEvent;\r\n\r\n    if (isKey(['Backspace', 'Delete', 'Del' ], event)) {\r\n      editorActions.trigger('removeSelection');\r\n\r\n      return true;\r\n    }\r\n  });\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}