{"ast":null,"code":"import { forEach } from 'min-dash';\nvar MARKER_HOVER = 'hover',\n  MARKER_SELECTED = 'selected';\n\n/**\r\n * A plugin that adds a visible selection UI to shapes and connections\r\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\r\n *\r\n * @class\r\n *\r\n * Makes elements selectable, too.\r\n *\r\n * @param {EventBus} events\r\n * @param {SelectionService} selection\r\n * @param {Canvas} canvas\r\n */\nexport default function SelectionVisuals(events, canvas, selection, styles) {\n  this._multiSelectionBox = null;\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n  events.on('element.hover', function (event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n  events.on('element.out', function (event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n  events.on('selection.changed', function (event) {\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n    var oldSelection = event.oldSelection,\n      newSelection = event.newSelection;\n    forEach(oldSelection, function (e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n    forEach(newSelection, function (e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n  });\n}\nSelectionVisuals.$inject = ['eventBus', 'canvas', 'selection', 'styles'];","map":{"version":3,"names":["forEach","MARKER_HOVER","MARKER_SELECTED","SelectionVisuals","events","canvas","selection","styles","_multiSelectionBox","addMarker","e","cls","removeMarker","on","event","element","deselect","s","select","oldSelection","newSelection","indexOf","$inject"],"sources":["C:/Users/sam/final/camunda-react/node_modules/diagram-js/lib/features/selection/SelectionVisuals.js"],"sourcesContent":["import {\r\n  forEach\r\n} from 'min-dash';\r\n\r\nvar MARKER_HOVER = 'hover',\r\n    MARKER_SELECTED = 'selected';\r\n\r\n\r\n/**\r\n * A plugin that adds a visible selection UI to shapes and connections\r\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\r\n *\r\n * @class\r\n *\r\n * Makes elements selectable, too.\r\n *\r\n * @param {EventBus} events\r\n * @param {SelectionService} selection\r\n * @param {Canvas} canvas\r\n */\r\nexport default function SelectionVisuals(events, canvas, selection, styles) {\r\n\r\n  this._multiSelectionBox = null;\r\n\r\n  function addMarker(e, cls) {\r\n    canvas.addMarker(e, cls);\r\n  }\r\n\r\n  function removeMarker(e, cls) {\r\n    canvas.removeMarker(e, cls);\r\n  }\r\n\r\n  events.on('element.hover', function(event) {\r\n    addMarker(event.element, MARKER_HOVER);\r\n  });\r\n\r\n  events.on('element.out', function(event) {\r\n    removeMarker(event.element, MARKER_HOVER);\r\n  });\r\n\r\n  events.on('selection.changed', function(event) {\r\n\r\n    function deselect(s) {\r\n      removeMarker(s, MARKER_SELECTED);\r\n    }\r\n\r\n    function select(s) {\r\n      addMarker(s, MARKER_SELECTED);\r\n    }\r\n\r\n    var oldSelection = event.oldSelection,\r\n        newSelection = event.newSelection;\r\n\r\n    forEach(oldSelection, function(e) {\r\n      if (newSelection.indexOf(e) === -1) {\r\n        deselect(e);\r\n      }\r\n    });\r\n\r\n    forEach(newSelection, function(e) {\r\n      if (oldSelection.indexOf(e) === -1) {\r\n        select(e);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nSelectionVisuals.$inject = [\r\n  'eventBus',\r\n  'canvas',\r\n  'selection',\r\n  'styles'\r\n];"],"mappings":"AAAA,SACEA,OAAO,QACF,UAAU;AAEjB,IAAIC,YAAY,GAAG,OAAO;EACtBC,eAAe,GAAG,UAAU;;AAGhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,SAASC,gBAAgBA,CAACC,MAAM,EAAEC,MAAM,EAAEC,SAAS,EAAEC,MAAM,EAAE;EAE1E,IAAI,CAACC,kBAAkB,GAAG,IAAI;EAE9B,SAASC,SAASA,CAACC,CAAC,EAAEC,GAAG,EAAE;IACzBN,MAAM,CAACI,SAAS,CAACC,CAAC,EAAEC,GAAG,CAAC;EAC1B;EAEA,SAASC,YAAYA,CAACF,CAAC,EAAEC,GAAG,EAAE;IAC5BN,MAAM,CAACO,YAAY,CAACF,CAAC,EAAEC,GAAG,CAAC;EAC7B;EAEAP,MAAM,CAACS,EAAE,CAAC,eAAe,EAAE,UAASC,KAAK,EAAE;IACzCL,SAAS,CAACK,KAAK,CAACC,OAAO,EAAEd,YAAY,CAAC;EACxC,CAAC,CAAC;EAEFG,MAAM,CAACS,EAAE,CAAC,aAAa,EAAE,UAASC,KAAK,EAAE;IACvCF,YAAY,CAACE,KAAK,CAACC,OAAO,EAAEd,YAAY,CAAC;EAC3C,CAAC,CAAC;EAEFG,MAAM,CAACS,EAAE,CAAC,mBAAmB,EAAE,UAASC,KAAK,EAAE;IAE7C,SAASE,QAAQA,CAACC,CAAC,EAAE;MACnBL,YAAY,CAACK,CAAC,EAAEf,eAAe,CAAC;IAClC;IAEA,SAASgB,MAAMA,CAACD,CAAC,EAAE;MACjBR,SAAS,CAACQ,CAAC,EAAEf,eAAe,CAAC;IAC/B;IAEA,IAAIiB,YAAY,GAAGL,KAAK,CAACK,YAAY;MACjCC,YAAY,GAAGN,KAAK,CAACM,YAAY;IAErCpB,OAAO,CAACmB,YAAY,EAAE,UAAST,CAAC,EAAE;MAChC,IAAIU,YAAY,CAACC,OAAO,CAACX,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QAClCM,QAAQ,CAACN,CAAC,CAAC;MACb;IACF,CAAC,CAAC;IAEFV,OAAO,CAACoB,YAAY,EAAE,UAASV,CAAC,EAAE;MAChC,IAAIS,YAAY,CAACE,OAAO,CAACX,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE;QAClCQ,MAAM,CAACR,CAAC,CAAC;MACX;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;AAEAP,gBAAgB,CAACmB,OAAO,GAAG,CACzB,UAAU,EACV,QAAQ,EACR,WAAW,EACX,QAAQ,CACT"},"metadata":{},"sourceType":"module"}