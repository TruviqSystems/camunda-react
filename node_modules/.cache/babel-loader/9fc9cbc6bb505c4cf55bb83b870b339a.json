{"ast":null,"code":"import { assign } from 'min-dash';\nimport { is } from './ModelUtil';\nexport var DEFAULT_LABEL_SIZE = {\n  width: 90,\n  height: 20\n};\nexport var FLOW_LABEL_INDENT = 15;\n\n/**\r\n * Returns true if the given semantic has an external label\r\n *\r\n * @param {BpmnElement} semantic\r\n * @return {boolean} true if has label\r\n */\nexport function isLabelExternal(semantic) {\n  return is(semantic, 'bpmn:Event') || is(semantic, 'bpmn:Gateway') || is(semantic, 'bpmn:DataStoreReference') || is(semantic, 'bpmn:DataObjectReference') || is(semantic, 'bpmn:DataInput') || is(semantic, 'bpmn:DataOutput') || is(semantic, 'bpmn:SequenceFlow') || is(semantic, 'bpmn:MessageFlow') || is(semantic, 'bpmn:Group');\n}\n\n/**\r\n * Returns true if the given element has an external label\r\n *\r\n * @param {djs.model.shape} element\r\n * @return {boolean} true if has label\r\n */\nexport function hasExternalLabel(element) {\n  return isLabel(element.label);\n}\n\n/**\r\n * Get the position for sequence flow labels\r\n *\r\n * @param  {Array<Point>} waypoints\r\n * @return {Point} the label position\r\n */\nexport function getFlowLabelPosition(waypoints) {\n  // get the waypoints mid\n  var mid = waypoints.length / 2 - 1;\n  var first = waypoints[Math.floor(mid)];\n  var second = waypoints[Math.ceil(mid + 0.01)];\n\n  // get position\n  var position = getWaypointsMid(waypoints);\n\n  // calculate angle\n  var angle = Math.atan((second.y - first.y) / (second.x - first.x));\n  var x = position.x,\n    y = position.y;\n  if (Math.abs(angle) < Math.PI / 2) {\n    y -= FLOW_LABEL_INDENT;\n  } else {\n    x += FLOW_LABEL_INDENT;\n  }\n  return {\n    x: x,\n    y: y\n  };\n}\n\n/**\r\n * Get the middle of a number of waypoints\r\n *\r\n * @param  {Array<Point>} waypoints\r\n * @return {Point} the mid point\r\n */\nexport function getWaypointsMid(waypoints) {\n  var mid = waypoints.length / 2 - 1;\n  var first = waypoints[Math.floor(mid)];\n  var second = waypoints[Math.ceil(mid + 0.01)];\n  return {\n    x: first.x + (second.x - first.x) / 2,\n    y: first.y + (second.y - first.y) / 2\n  };\n}\nexport function getExternalLabelMid(element) {\n  if (element.waypoints) {\n    return getFlowLabelPosition(element.waypoints);\n  } else if (is(element, 'bpmn:Group')) {\n    return {\n      x: element.x + element.width / 2,\n      y: element.y + DEFAULT_LABEL_SIZE.height / 2\n    };\n  } else {\n    return {\n      x: element.x + element.width / 2,\n      y: element.y + element.height + DEFAULT_LABEL_SIZE.height / 2\n    };\n  }\n}\n\n/**\r\n * Returns the bounds of an elements label, parsed from the elements DI or\r\n * generated from its bounds.\r\n *\r\n * @param {BpmnElement} semantic\r\n * @param {djs.model.Base} element\r\n */\nexport function getExternalLabelBounds(semantic, element) {\n  var mid,\n    size,\n    bounds,\n    di = semantic.di,\n    label = di.label;\n  if (label && label.bounds) {\n    bounds = label.bounds;\n    size = {\n      width: Math.max(DEFAULT_LABEL_SIZE.width, bounds.width),\n      height: bounds.height\n    };\n    mid = {\n      x: bounds.x + bounds.width / 2,\n      y: bounds.y + bounds.height / 2\n    };\n  } else {\n    mid = getExternalLabelMid(element);\n    size = DEFAULT_LABEL_SIZE;\n  }\n  return assign({\n    x: mid.x - size.width / 2,\n    y: mid.y - size.height / 2\n  }, size);\n}\nexport function isLabel(element) {\n  return element && !!element.labelTarget;\n}","map":{"version":3,"names":["assign","is","DEFAULT_LABEL_SIZE","width","height","FLOW_LABEL_INDENT","isLabelExternal","semantic","hasExternalLabel","element","isLabel","label","getFlowLabelPosition","waypoints","mid","length","first","Math","floor","second","ceil","position","getWaypointsMid","angle","atan","y","x","abs","PI","getExternalLabelMid","getExternalLabelBounds","size","bounds","di","max","labelTarget"],"sources":["C:/Users/sam/final/camunda-react/node_modules/bpmn-js/lib/util/LabelUtil.js"],"sourcesContent":["import {\r\n  assign\r\n} from 'min-dash';\r\n\r\nimport { is } from './ModelUtil';\r\n\r\n\r\nexport var DEFAULT_LABEL_SIZE = {\r\n  width: 90,\r\n  height: 20\r\n};\r\n\r\nexport var FLOW_LABEL_INDENT = 15;\r\n\r\n\r\n/**\r\n * Returns true if the given semantic has an external label\r\n *\r\n * @param {BpmnElement} semantic\r\n * @return {boolean} true if has label\r\n */\r\nexport function isLabelExternal(semantic) {\r\n  return is(semantic, 'bpmn:Event') ||\r\n         is(semantic, 'bpmn:Gateway') ||\r\n         is(semantic, 'bpmn:DataStoreReference') ||\r\n         is(semantic, 'bpmn:DataObjectReference') ||\r\n         is(semantic, 'bpmn:DataInput') ||\r\n         is(semantic, 'bpmn:DataOutput') ||\r\n         is(semantic, 'bpmn:SequenceFlow') ||\r\n         is(semantic, 'bpmn:MessageFlow') ||\r\n         is(semantic, 'bpmn:Group');\r\n}\r\n\r\n/**\r\n * Returns true if the given element has an external label\r\n *\r\n * @param {djs.model.shape} element\r\n * @return {boolean} true if has label\r\n */\r\nexport function hasExternalLabel(element) {\r\n  return isLabel(element.label);\r\n}\r\n\r\n/**\r\n * Get the position for sequence flow labels\r\n *\r\n * @param  {Array<Point>} waypoints\r\n * @return {Point} the label position\r\n */\r\nexport function getFlowLabelPosition(waypoints) {\r\n\r\n  // get the waypoints mid\r\n  var mid = waypoints.length / 2 - 1;\r\n\r\n  var first = waypoints[Math.floor(mid)];\r\n  var second = waypoints[Math.ceil(mid + 0.01)];\r\n\r\n  // get position\r\n  var position = getWaypointsMid(waypoints);\r\n\r\n  // calculate angle\r\n  var angle = Math.atan((second.y - first.y) / (second.x - first.x));\r\n\r\n  var x = position.x,\r\n      y = position.y;\r\n\r\n  if (Math.abs(angle) < Math.PI / 2) {\r\n    y -= FLOW_LABEL_INDENT;\r\n  } else {\r\n    x += FLOW_LABEL_INDENT;\r\n  }\r\n\r\n  return { x: x, y: y };\r\n}\r\n\r\n\r\n/**\r\n * Get the middle of a number of waypoints\r\n *\r\n * @param  {Array<Point>} waypoints\r\n * @return {Point} the mid point\r\n */\r\nexport function getWaypointsMid(waypoints) {\r\n\r\n  var mid = waypoints.length / 2 - 1;\r\n\r\n  var first = waypoints[Math.floor(mid)];\r\n  var second = waypoints[Math.ceil(mid + 0.01)];\r\n\r\n  return {\r\n    x: first.x + (second.x - first.x) / 2,\r\n    y: first.y + (second.y - first.y) / 2\r\n  };\r\n}\r\n\r\n\r\nexport function getExternalLabelMid(element) {\r\n\r\n  if (element.waypoints) {\r\n    return getFlowLabelPosition(element.waypoints);\r\n  } else if (is(element, 'bpmn:Group')) {\r\n    return {\r\n      x: element.x + element.width / 2,\r\n      y: element.y + DEFAULT_LABEL_SIZE.height / 2\r\n    };\r\n  } else {\r\n    return {\r\n      x: element.x + element.width / 2,\r\n      y: element.y + element.height + DEFAULT_LABEL_SIZE.height / 2\r\n    };\r\n  }\r\n}\r\n\r\n\r\n/**\r\n * Returns the bounds of an elements label, parsed from the elements DI or\r\n * generated from its bounds.\r\n *\r\n * @param {BpmnElement} semantic\r\n * @param {djs.model.Base} element\r\n */\r\nexport function getExternalLabelBounds(semantic, element) {\r\n\r\n  var mid,\r\n      size,\r\n      bounds,\r\n      di = semantic.di,\r\n      label = di.label;\r\n\r\n  if (label && label.bounds) {\r\n    bounds = label.bounds;\r\n\r\n    size = {\r\n      width: Math.max(DEFAULT_LABEL_SIZE.width, bounds.width),\r\n      height: bounds.height\r\n    };\r\n\r\n    mid = {\r\n      x: bounds.x + bounds.width / 2,\r\n      y: bounds.y + bounds.height / 2\r\n    };\r\n  } else {\r\n\r\n    mid = getExternalLabelMid(element);\r\n\r\n    size = DEFAULT_LABEL_SIZE;\r\n  }\r\n\r\n  return assign({\r\n    x: mid.x - size.width / 2,\r\n    y: mid.y - size.height / 2\r\n  }, size);\r\n}\r\n\r\nexport function isLabel(element) {\r\n  return element && !!element.labelTarget;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}